## Шаблон и правила описания

### 1. User Story

Обязательный раздел.

В рамках одной страницы может быть описана только одна US!

Заполняется по формуле: **Я, как..., хочу..., чтобы...**

Например, Я, как Администратор, хочу удалять обучения из специализации, чтобы студенты изучали только актуальные для них обучения и не тратили свое время на ненужный контент.

**Правила заполнения:**

| Элемент | Пример |
|---------|--------|
| **Как** | Указывается Роль процесса или обощенное наименование наименование Группы пользователей, Конкретная должность, Сотрудник определенного подразделения | Как Административный руководитель сотрудника<br>Как Сотрудник подразделения C&B<br>Как пользователь с ролью "Инициатор" |
| **Хочу** | Указывается целевое действие пользователя без лишней детализации | Хочу создавать заявку на получение справки<br>Хочу вносить изменения в существующий документ<br>Хочу получать уведомления когда получено решение по моему обращению |
| **Чтобы** | Указывается ценность указанного "хочу" для пользователя, раскрывается его мотивация совершать действие. | Чтобы своевременно отреагировать на задачу.<br>Чтобы одновременно оформить несколько кадровых перемещений.<br>Чтобы согласовать запуск процедуры с другими участниками процесса. |

Не нужно формировать роль в User Story как система. Это должен быть какой-либо пользователь.

В качестве альтернативы, допускается использовать формат Job Story. Тогда данный раздел необходимо переименовать в "Job Story" и заполнять по формуле **Когда..., хочу...,чтобы...**

**Определение формата истории**
User Story используется, когда задача связана с конкретным пользователем или группой пользователей, которые взаимодействуют с системой. Формат: Я, как [роль пользователя], хочу [действие], чтобы [ценность].

Пример: Я, как администратор, хочу удалять обучения из специализации, чтобы студенты изучали только актуальные для них обучения.
Job Story используется, когда задача не связана с конкретным пользователем, а описывает системное поведение или интеграцию. Формат: Когда [событие], хочу [действие], чтобы [результат].

Пример: Когда внешняя система интегрируется с Docs, она должна иметь возможность получать информацию о подписанных документах, чтобы использовать эту информацию для валидации в бизнес-процессах.
Рекомендации по выбору формата
Если в задаче фигурирует конкретный пользователь или роль, используйте User Story.
Если задача описывает системное поведение без конкретного пользователя, используйте Job Story.
В случае сомнений, оцените, что является ключевым элементом задачи: пользователь или системное событие.


### 2. Контроль версионности

Обязательный раздел.

Раздел для ведения истории изменений.

Предназначен для фиксации ключевых изменений функциональности, а это значит что фиксировать каждое мелкое изменение документации нецелесообразно (для этого есть функции "История Страницы" и "Сравнение выбранных версий").

Критерий для фиксации версии - внесенные изменения повлияют на работу других членов команды или порождают необходимость сделать новую постановку задачи на разработку Также, если по итогам разработки необходимо зафиксировать фактическую реализацию.

**Рекомендованный формат для фиксирования версионности:**

| № версии | Ссылка на Jira | Описание изменений | Предыдущая версия статьи | Лист согласования |
|----------|----------------|-------------------|--------------------------|-------------------|
| Рекомендуется начинать с версии 1.0 - это должна быть версия, которая согласована с бизнесом/PO.<br>Далее, отображать изменения по мере обогащения функционала и внесения уточнений. | Размещается ссылка на US в Jira при помощи макроса "Вставить фильтр/проблема в Jira".<br>Если по итогам изменений заводить и планировать в спринт новую US в Jira не требуется, то ссылка не указывается. | Указывается что изменилось относительно предыдущей версии.<br>Для первой версии можно проставить "-", для последующих - описать изменения только относительно предыдущей версии. | Указывается версия страницы Confluence, с которой необходимо сравнивать новую версию. Для поиска старой версии необходимо использовать функцию История страницы.<br>Для первой версии проставить "-", для последующих - дать ссылку на старую версию страницы, с которой можно сравнить правки при помощи функции "Сравнение выбранных версий". | Указать согласующих при помощи элемента "Список задач". Далее, по мере получения согласований отмечать их в чек-боксах. |
| 1.0 | ELEMENT-895 - Сервис отпусков_Виджет ЗАКРЫТ | - | v.8 | PO - Иванов Иван<br>Заказчик - Иванов Иван<br>TL - Иванов Иван |
| 1.1. | - | В версии 1.0 реализовали иначе, чем описано. Внесены правки чтобы документ соответствовал фактической реализации. | - | - |
| 1.2. | ELEMENT-1750 - Рефакторинг_Виджет ЗАКРЫТ | Добавили новую функцию просмотра истории сообщений | v.10 | PO - Иванов Иван<br>Заказчик - Иванов Иван<br>TL - Иванов Иван |

### 3. Проблематика

Обязательный раздел.

Описывается бизнес-проблема или ситуация, из которой была выделена US. Блок должен более широко раскрывать контекст US, например, в случаях:
* получена обратная связь от пользователей
* необходимо учесть новые особенности бизнес-процессов
* обнаружены ошибки предыдущих реализаций

### 4. Критерии приемки

**Обязательный раздел.**

Критерии приемки — это ключевые условия, которые должны быть выполнены, чтобы считать User Story реализованной. Они служат основой для создания тест-кейсов и определяют, когда работа считается завершенной.

**Основные принципы формулирования критериев приемки:**

1. **Фокус на бизнес-ценности:**
   - Описывайте, какую пользу получит бизнес или пользователь
   - Формулируйте с точки зрения результата для пользователя, а не технической реализации
   - Пример: ✅ "Пользователь может найти нужный документ по его названию или дате создания"

2. **Ориентация на конечный результат:**
   - Избегайте технических деталей реализации
   - Описывайте, что должно быть достигнуто, а не как это должно быть сделано
   - Пример: ✅ "Система уведомляет пользователя о необходимости подписать документ"
   - Пример: ❌ "Система отправляет push-уведомление через Firebase Cloud Messaging"

3. **Измеримость:**
   - Критерии должны быть конкретными и проверяемыми
   - Должна быть возможность однозначно определить, выполнен критерий или нет
   - Пример: ✅ "Пользователь может отфильтровать документы по статусу подписания"

**Что НЕ должно быть в критериях приемки:**
- Технические детали реализации (они относятся к функциональным требованиям)
- Нефункциональные требования, такие как время отклика или производительность (для них есть отдельный раздел)
- Подробные описания UI/UX (они относятся к функциональным требованиям)

**Примеры хороших критериев приемки:**
- "Пользователь может видеть список всех своих документов, ожидающих подписания"
- "Внешние системы могут проверить, подписал ли пользователь определенный документ"
- "Администратор может добавлять новые шаблоны документов в систему"
- "Пользователь получает уведомление при появлении нового документа на подпись"

**Примеры плохих критериев приемки:**
- ❌ "Разработан REST API метод GET /api/documents" (техническая деталь)
- ❌ "Время ответа API не превышает 500 мс" (нефункциональное требование)
- ❌ "Кнопка 'Подписать' окрашена в зеленый цвет" (деталь UI)

### 5. Сценарии использования

Условно обязательный.

Описываются в случае, если подразумевается взаимодействие пользователя с интерфейсом. Раздел должен включать в себя набор сценариев, необходимых для реализации US и покрывать Критерии приемки.
Если UI не используется, то сценарии не заполняются

**Общие рекомендации к описанию сценариев:**
1. Встретиться и обсудить с дизайнером предполагаемые сценарии.
2. Не использовать в сценариях готовые дизайн-решения, а описывать исходя из смысла действия – что происходит и результат действия. Стоп-слова: "нажимает на кнопку "сохранить"; открывается модалка; заполняет таблицу; заполняет поле ввода (инпут); видит поля ввода A, B, C" и т.д.
3. Указывать атрибуты необходимые для выполнения сценария
4. Давать ссылки, если упоминаются другие части документации (методы, подробные описания логики, проверки, модели и т.д.)
5. Описывать обратную связь пользователю об успехе или неуспехе сценария
6. После составления и утверждения макетов, Сценарии использования необходимо привести в соответствие и обогатить дополнительной информацией (упоминание методов, таблиц и пр.). Расхождения сценариев с макетами при поступлении задачи в разработку быть не должно.

| № | Требования к заполнению | Пример |
|---|------------------------|--------|
| 1 | Наименование кейса<br>Входящее условие: какие условия должны выполняться, чтобы начать выполнение кейса<br>Успешный сценарий: Описание Use Case в формате взаимодействия пользователя с системой. Если реакция системы предполагает вызов метода или обращение к таблице, необходимо указать это и дать ссылку на страницу или место в документации, где метод/таблица описаны подробно<br>Альтернативные/негативные сценарии: Описываются шаги, которые предполагают:<br>• Некорректные действия пользователя и реакцию системы на них<br>• Некорректные действия системы и оповещение пользователя о них<br>Примечание: если альтернативный кейс получается объемным, его можно выделить как отдельный. | Администратор хочет добавить новый тэг для новостей<br>Входящее условие: пользователь обладает ролью "Администратор" и вызвал меню "Редактировать" в разделе "Справочник тэгов".<br>Основной сценарий:<br>1. Пользователь инициирует добавление тэга<br>2. Система предлагает заполнить наименование тэга, дату его ввода и признак активности<br>3. Пользователь вводит атрибуты и пробует сохранить результат<br>4. Система проверяет тэг на дубли и правила заполнения (ссылка на описание проверок)<br>5. Если все ок, система вызывает метод /postTag (ссылка на описание метода) и записывает тэг в таблицу dbNews.tags, после чего оповещает пользователя об успехе.<br>6. Пользователь видит что новый тэг добавлен в перечень.<br><br>Альтернативный сценарий:<br>4. Система проверяет тэг на дубли и правила заполнения (ссылка на описание проверок)<br>   4.1. Если проверка не пройдена, пользователь получает сообщение с указанием какие критерии проверки были нарушены.<br>   4.2. Осуществляется возврат на п. 3 Основного сценария. |

Допускается использовать более полные, "классические", шаблоны описания Use Case. Важно, чтобы содержательная часть при этом соответствовала вышеуказанным требованиям и не перегружала описание сценария.

**Опционально:**
* Описание / модель процесса, осуществляемого в рамках US или Use Case диаграмма.
* Sequence-диаграмма для описания последовательности взаимодействия компонентов будущего решения

### 6. Функциональные требования

Обязательный раздел.

В данном блоке подробно описываются все требования, которые были выявлены по задаче. В обязательном порядке, если применимо к конкретной задаче, должны быть описаны требования к данным, пользовательским и интеграционным интерфейсам.

Далее приводится пример компоновки и содержания требований. Можно использовать как приведенный ниже формат, так и использовать свой - важно, чтобы в конечном итоге документ содержал требования к Front, Back, UI\UX (если таковые дорабатываются в рамках задачи).

Если решили использовать вкладки, то можно добавлять свои по мере надобности (например, необходимо описать требования к двум разных BackEnd'ам, можно разбить требования к каждому из них на разные вкладки)

Рекомендуется группировать требования по основным блокам, чтобы команде было удобнее ориентироваться в требованиях. Например:

#### Front

В данный раздел размещаются требования к Front End. Содержание вкладки может быть следующим:

| Swagger | Размещается ссылка ссылка на GitLab или иной источник, если контракт внешний. |
|---------|-----------------------------------------------------------------------------|
| Макеты | Размещается ссылка на Figma |

Примеры того что можно описать тут:
- Требования к заполнению полей на интерфейсе (обязательность, проверки корректности ввода, маски)
- Взаимодействие пользователя с элементами интерфейса (как ранее не описанных, так и расширение описания элементов, упомянутых в пользовательских сценариях)
- Отсылки к используемым интеграционным методам (как правило, BFF)
- Добавление тултипов и источники текста для них (хардкод, настройкой в админке и т.д.)
- Маппинг цветов и значений для статусной модели
- Что будет проиходить при переходе из одного режима в другой (например, из чтения в редактирование)
- Условия активности кнопок и их покраски в определенные цвета
- Проверки, выполняемые на стороне Front End
- Используемые значения по умолчанию (например, отображать текущий год в календаре)
- Возможность сортировать данные и логика работы сортировки, значения по умолчанию
- Возможность фильтрации, значения по умолчанию
- Как отрабатываются ошибки (как пользовательские, так и технические) на Front End. Как эти ошибки визуализируются (сообщением, цветом и т.д.)
- Разметка событий для последующей аналитики (например, фиксация клика пользователя по определенной кнопке, чтобы посчитать частоту использования сервиса)
- И прочее

#### Back

В данный раздел размещаются требования к Back End. Содержание вкладки может быть следующим:

| Swagger | Размещается ссылка ссылка на GitLab или иной источник, если контракт внешний. |
|---------|-----------------------------------------------------------------------------|

Примеры того что можно описать тут:
- Требования к данным (с типами и примерами значений)
- Структура БД (табличное описание, ER-диаграмма)
- Необходимые вычисления и проверки, логика присвоения значений полям и переменным
- Требования к интеграционным методам (BFF, Back2Back)
- Требования к хранению и архивированию данных, документов
- Возможные ошибки и способы их обработки
- Маппинги полей
- Разметка событий для последующей аналитики (например, количество фактов прихода некорректных данных из внешней системы)
- При описании API необходимо указывать протоколы и технологию, которая будет применяться для реализации (REST, gRPC, Kafka и т.п.)
- И прочее

#### UX\UI

В данный раздел размещаются требования к учету определенного пользовательского поведения, опыту и интерфейсным особенностям.

Как правило, данные требования необходимо зафиксировать до появления требований к Front End, чтобы дизайнер смог отрисовать макеты. Далее, уже при помощи макетов описываются требования к Front End.

Содержание вкладки может быть следующим:

| Макеты | Размещается ссылка на Figma |
|--------|------------------------------|

- Бизнесовые требования к интерфейсу
- Выявленные особенности поведения пользователей (например, текущие пользователи не понимают интерфейс из-за незнакомых значков)
- Требования к визуализации UX\UI
- Акценты на критичные моменты и элементы

### 7. Нефункциональные требования и ограничения

Обязательный раздел.

Определяются НФТ, применимые к текущей User Story. Если таких требований нет, необходимо указать "Не выявлены".

Здесь уместно предъявлять требования, которые касаются текущей User Story.

Требования к описанию НФТ указаны по ссылке - Требования к описанию нефункциональных требований (к атрибутам качества)

Для описания требований к выдерживаемой нагрузке рекомендуется следовать - [Методика] Сбор НФТ в части надежности и производительности сервисов

### 8. Критерии готовности (DoD)
### 8. Критерии готовности (DoD)

**Обязательный раздел.**

Критерии готовности (Definition of Done) — это конкретные технические задачи и проверки, которые необходимо выполнить для достижения критериев приемки. В отличие от критериев приемки, которые фокусируются на бизнес-ценности, критерии готовности описывают технические аспекты реализации.

**Основные принципы формулирования критериев готовности:**

1. **Фокус на технических деталях:**
   - Описывайте конкретные технические задачи, которые нужно выполнить
   - Указывайте специфические технические решения, необходимые для реализации
   - Пример: ✅ "Реализован REST-API метод GET /api/v1/documents с поддержкой параметров фильтрации"

2. **Конкретность и измеримость:**
   - Критерии должны быть конкретными и проверяемыми
   - Должна быть возможность однозначно определить, выполнен критерий или нет
   - Пример: ✅ "Настроено преобразование данных из формата A в формат B"

3. **Связь с критериями приемки:**
   - Каждый критерий готовности должен способствовать достижению одного или нескольких критериев приемки
   - Должно быть понятно, как выполнение технической задачи приближает к достижению бизнес-цели

**Что ДОЛЖНО быть в критериях готовности:**
- Конкретные технические задачи (например, "Реализован метод API", "Настроена интеграция с системой X")
- Специфические технические решения (например, "Добавлена поддержка параметра Y в запросе")
- Технические аспекты безопасности и производительности (например, "Настроена аутентификация для API")

**Что НЕ должно быть в критериях готовности:**
- ❌ Общие очевидные вещи (например, "Написаны unit-тесты", "Код прошел ревью")
- ❌ Повторение критериев приемки
- ❌ Организационные моменты (например, "Получено подтверждение от заказчика")

**Примеры хороших критериев готовности:**
- "Реализован REST-API метод GET /api/v1/documents с поддержкой параметров фильтрации по дате и статусу"
- "Настроено преобразование данных из формата JSON в протобуф для интеграции с микросервисом X"
- "Добавлена поддержка параметра org_id в запросе для фильтрации по организации"
- "Настроена аутентификация и авторизация для API методов"
- "Реализована обработка всех возможных комбинаций входных параметров"

**Примеры плохих критериев готовности:**
- ❌ "Написаны и успешно пройдены unit-тесты" (очевидная вещь)
- ❌ "Код прошел ревью и соответствует стандартам кодирования" (очевидная вещь)
- ❌ "Документация API обновлена в Swagger" (очевидная вещь)
- ❌ "Пользователь может фильтровать документы" (это критерий приемки, а не готовности)